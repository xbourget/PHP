<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Réponse Chat OpenAI</title>
</head>
<body>
  <div id="response-container">
    <p id="response-content">Voici la recette :</p>
  </div>

  <script>
    // Charge la bibliothèque JavaScript OpenAI de manière asynchrone
    async function loadScript() {
      const script = document.createElement('script');
      script.src = 'https://unpkg.com/openai@4.20.1/dist/openaia.min.js';
      document.body.appendChild(script);
    }

    // Initialise OpenAI
    const init = async () => {
      const openai = await OpenAI.init({ apiKey: 'sk-Zc4p79Dio0MpCZAbWESOT3BlbkFJoik15ydbRCBrXQ07G' });

      // Utilise la bibliothèque OpenAI ici
      const completion = await openai.chat.completions.create({ messages: [{ role: "system", content: "Donne-moi la recette de la tarte au citron" }], model: "gpt-3.5-turbo" });
      const responseContent = completion.choices[0].message.content;
      document.getElementById('response-content').innerText = responseContent;
    };

    // Initialise OpenAI et affiche la recette
    loadScript();
    init();
  </script>
</body>
</html>